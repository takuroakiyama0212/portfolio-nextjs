export type VenueType = "cafe" | "library" | "airport" | "mall" | "restaurant" | "hotel" | "coworking";

export type OutletType = "usb-a" | "usb-c" | "standard";

export interface ChargingSpot {
  id: string;
  name: string;
  address: string;
  venueType: VenueType;
  latitude: number;
  longitude: number;
  outletCount: number;
  outletTypes: OutletType[];
  /**
   * True/false when verified; null when the community is unsure.
   */
  hasOutlets?: boolean | null;
  /**
   * 0-1 probability of outlets existing when unverified.
   */
  powerConfidence?: number;
  communityYesVotes?: number;
  communityNoVotes?: number;
  source?: "mock" | "osm";
  phone?: string;
  hours?: string;
  tips?: string[];
  distance?: number;
}

export const VENUE_TYPE_LABELS: Record<VenueType, string> = {
  cafe: "Cafe",
  library: "Library",
  airport: "Airport",
  mall: "Mall",
  restaurant: "Restaurant",
  hotel: "Hotel",
  coworking: "Coworking",
};

export const OUTLET_TYPE_LABELS: Record<OutletType, string> = {
  "usb-a": "USB-A",
  "usb-c": "USB-C",
  standard: "Standard",
};

export const MOCK_SPOTS: ChargingSpot[] = [
  {
    id: "1",
    name: "The Coffee Club - Eagle Street Pier",
    address: "1 Eagle St, Brisbane City QLD",
    venueType: "cafe",
    latitude: -27.4669,
    longitude: 153.0301,
    outletCount: 8,
    outletTypes: ["usb-a", "usb-c", "standard"],
    hasOutlets: true,
    powerConfidence: 0.95,
    communityYesVotes: 12,
    communityNoVotes: 1,
    hours: "6:30 AM - 10:00 PM",
    tips: ["Window seats have the fastest chargers"],
    source: "mock",
  },
  {
    id: "2",
    name: "State Library of Queensland",
    address: "Stanley Pl, South Brisbane QLD",
    venueType: "library",
    latitude: -27.471,
    longitude: 153.0175,
    outletCount: 48,
    outletTypes: ["standard", "usb-a"],
    hasOutlets: true,
    powerConfidence: 0.98,
    communityYesVotes: 34,
    communityNoVotes: 2,
    hours: "10:00 AM - 8:00 PM",
    tips: ["Quiet study zone has the most outlets"],
    source: "mock",
  },
  {
    id: "3",
    name: "Brisbane Airport (BNE) - Domestic Terminal",
    address: "11 The Circuit, Brisbane Airport QLD",
    venueType: "airport",
    latitude: -27.3949,
    longitude: 153.1219,
    outletCount: 120,
    outletTypes: ["usb-a", "usb-c", "standard"],
    hasOutlets: true,
    powerConfidence: 0.99,
    communityYesVotes: 58,
    communityNoVotes: 3,
    hours: "24/7",
    tips: ["Look near gates 22-25 for the fastest chargers"],
    source: "mock",
  },
  {
    id: "9",
    name: "Sunshine Plaza Food Court",
    address: "Sunshine Plaza, Maroochydore QLD",
    venueType: "mall",
    latitude: -26.655,
    longitude: 153.074,
    outletCount: 12,
    outletTypes: ["usb-a", "standard"],
    hasOutlets: null,
    powerConfidence: 0.6,
    communityYesVotes: 4,
    communityNoVotes: 2,
    hours: "9:00 AM - 5:30 PM",
    tips: ["Look near the seating by major chain stores for power points."],
    source: "mock",
  },
  {
    id: "10",
    name: "Sunshine Coast Airport (MCY)",
    address: "Sunshine Coast Airport, Marcoola QLD",
    venueType: "airport",
    latitude: -26.6033,
    longitude: 153.0911,
    outletCount: 30,
    outletTypes: ["usb-a", "usb-c", "standard"],
    hasOutlets: true,
    powerConfidence: 0.9,
    communityYesVotes: 11,
    communityNoVotes: 1,
    hours: "4:00 AM - 11:00 PM",
    tips: ["Charging is usually easiest to find near the gates and cafes."],
    source: "mock",
  },
  // Brisbane (CBD + inner suburbs)
  {
    id: "11",
    name: "Brisbane Square Library",
    address: "266 George St, Brisbane City QLD",
    venueType: "library",
    latitude: -27.4707,
    longitude: 153.0226,
    outletCount: 40,
    outletTypes: ["standard", "usb-a"],
    hasOutlets: true,
    powerConfidence: 0.95,
    communityYesVotes: 18,
    communityNoVotes: 1,
    hours: "9:00 AM - 5:00 PM",
    tips: ["Study tables usually have power nearby."],
    source: "mock",
  },
  {
    id: "12",
    name: "Westfield Chermside",
    address: "Gympie Rd, Chermside QLD",
    venueType: "mall",
    latitude: -27.3855,
    longitude: 153.0316,
    outletCount: 14,
    outletTypes: ["usb-a", "standard"],
    hasOutlets: null,
    powerConfidence: 0.99,
    communityYesVotes: 5,
    communityNoVotes: 3,
    hours: "9:00 AM - 5:30 PM",
    tips: ["Food court seating areas often have power points."],
    source: "mock",
  },
  {
    id: "13",
    name: "Westfield Garden City (Upper Mount Gravatt)",
    address: "Logan Rd, Upper Mount Gravatt QLD",
    venueType: "mall",
    latitude: -27.5621,
    longitude: 153.0834,
    outletCount: 16,
    outletTypes: ["usb-a", "standard"],
    hasOutlets: null,
    powerConfidence: 0.99,
    communityYesVotes: 4,
    communityNoVotes: 2,
    hours: "9:00 AM - 5:30 PM",
    tips: ["Try seating near cafes for easier access to power."],
    source: "mock",
  },
  {
    id: "33",
    name: "Westfield Carindale",
    address: "1151 Creek Rd, Carindale QLD",
    venueType: "mall",
    latitude: -27.5019,
    longitude: 153.1026,
    outletCount: 18,
    outletTypes: ["usb-a", "standard"],
    hasOutlets: null,
    powerConfidence: 0.99,
    communityYesVotes: 6,
    communityNoVotes: 2,
    hours: "9:00 AM - 5:30 PM",
    tips: ["Food court and lounge seating usually have some power points."],
    source: "mock",
  },
  {
    id: "34",
    name: "Westfield North Lakes",
    address: "North Lakes Dr, North Lakes QLD",
    venueType: "mall",
    latitude: -27.2389,
    longitude: 153.0166,
    outletCount: 16,
    outletTypes: ["usb-a", "standard"],
    hasOutlets: null,
    powerConfidence: 0.99,
    communityYesVotes: 5,
    communityNoVotes: 2,
    hours: "9:00 AM - 5:30 PM",
    tips: ["Try the food court edges and seating near major cafes."],
    source: "mock",
  },
  {
    id: "35",
    name: "Westfield Coomera",
    address: "103 Foxwell Rd, Coomera QLD",
    venueType: "mall",
    latitude: -27.8726,
    longitude: 153.3149,
    outletCount: 14,
    outletTypes: ["usb-a", "standard"],
    hasOutlets: null,
    powerConfidence: 0.99,
    communityYesVotes: 5,
    communityNoVotes: 1,
    hours: "9:00 AM - 5:30 PM",
    tips: ["Charging is most likely near food court seating and common areas."],
    source: "mock",
  },
  {
    id: "14",
    name: "South Bank (Little Stanley St Cafes)",
    address: "Little Stanley St, South Brisbane QLD",
    venueType: "cafe",
    latitude: -27.4785,
    longitude: 153.0239,
    outletCount: 6,
    outletTypes: ["standard", "usb-a"],
    hasOutlets: null,
    powerConfidence: 0.55,
    communityYesVotes: 6,
    communityNoVotes: 5,
    tips: ["Ask staff for a seat near an outlet."],
    source: "mock",
  },
  // Sunshine Coast (Maroochydore / Caloundra / Noosa)
  {
    id: "15",
    name: "Maroochydore Library",
    address: "1 Duporth Ave, Maroochydore QLD",
    venueType: "library",
    latitude: -26.6525,
    longitude: 153.0908,
    outletCount: 24,
    outletTypes: ["standard", "usb-a"],
    hasOutlets: true,
    powerConfidence: 0.9,
    communityYesVotes: 10,
    communityNoVotes: 0,
    hours: "9:00 AM - 5:00 PM",
    tips: ["Outlets are common near desks and study corners."],
    source: "mock",
  },
  {
    id: "16",
    name: "Kawana Shoppingworld (Food Court)",
    address: "119 Point Cartwright Dr, Buddina QLD",
    venueType: "mall",
    latitude: -26.7048,
    longitude: 153.1307,
    outletCount: 10,
    outletTypes: ["usb-a", "standard"],
    hasOutlets: null,
    powerConfidence: 0.55,
    communityYesVotes: 3,
    communityNoVotes: 2,
    tips: ["Look around pillar seating for hidden outlets."],
    source: "mock",
  },
  {
    id: "17",
    name: "Noosa Library",
    address: "9 Pelican St, Tewantin QLD",
    venueType: "library",
    latitude: -26.3944,
    longitude: 153.0374,
    outletCount: 18,
    outletTypes: ["standard"],
    hasOutlets: true,
    powerConfidence: 0.85,
    communityYesVotes: 7,
    communityNoVotes: 0,
    hours: "9:00 AM - 5:00 PM",
    tips: ["Bring a power adapter if you need USB-C."],
    source: "mock",
  },
  // Gold Coast
  {
    id: "18",
    name: "Gold Coast Airport (OOL)",
    address: "Eastern Ave, Bilinga QLD",
    venueType: "airport",
    latitude: -28.1644,
    longitude: 153.5046,
    outletCount: 60,
    outletTypes: ["usb-a", "usb-c", "standard"],
    hasOutlets: true,
    powerConfidence: 0.95,
    communityYesVotes: 22,
    communityNoVotes: 1,
    hours: "24/7",
    tips: ["Charging is easiest near gates and lounge areas."],
    source: "mock",
  },
  {
    id: "19",
    name: "Pacific Fair Shopping Centre",
    address: "Hooker Blvd, Broadbeach Waters QLD",
    venueType: "mall",
    latitude: -28.0368,
    longitude: 153.4286,
    outletCount: 18,
    outletTypes: ["usb-a", "standard"],
    hasOutlets: null,
    powerConfidence: 0.6,
    communityYesVotes: 6,
    communityNoVotes: 4,
    hours: "9:00 AM - 5:30 PM",
    tips: ["Try the food court or seating near major cafes."],
    source: "mock",
  },
  {
    id: "20",
    name: "Robina Town Centre (Food Court)",
    address: "Robina Town Centre Dr, Robina QLD",
    venueType: "mall",
    latitude: -28.0713,
    longitude: 153.3979,
    outletCount: 14,
    outletTypes: ["usb-a", "standard"],
    hasOutlets: null,
    powerConfidence: 0.55,
    communityYesVotes: 4,
    communityNoVotes: 3,
    hours: "9:00 AM - 5:30 PM",
    tips: ["Power points are often near wall seating."],
    source: "mock",
  },
  {
    id: "21",
    name: "Southport Library",
    address: "Corner Garden St & Lawson St, Southport QLD",
    venueType: "library",
    latitude: -27.9663,
    longitude: 153.4109,
    outletCount: 30,
    outletTypes: ["standard", "usb-a"],
    hasOutlets: true,
    powerConfidence: 0.9,
    communityYesVotes: 9,
    communityNoVotes: 0,
    hours: "9:00 AM - 5:30 PM",
    tips: ["Charging is common near study desks and reading areas."],
    source: "mock",
  },
  // Coworking (Brisbane / Sunshine Coast / Gold Coast) - curated baseline
  {
    id: "22",
    name: "WeWork - Edward Street",
    address: "Edward St, Brisbane City QLD",
    venueType: "coworking",
    latitude: -27.4692,
    longitude: 153.0262,
    outletCount: 60,
    outletTypes: ["usb-c", "standard"],
    hasOutlets: true,
    powerConfidence: 0.95,
    communityYesVotes: 14,
    communityNoVotes: 0,
    hours: "Mon-Fri",
    tips: ["Plenty of power at hot desks and meeting rooms."],
    source: "mock",
  },
  {
    id: "23",
    name: "WOTSO Workspace - Brisbane",
    address: "Brisbane City QLD",
    venueType: "coworking",
    latitude: -27.4697,
    longitude: 153.0219,
    outletCount: 40,
    outletTypes: ["standard", "usb-a"],
    hasOutlets: true,
    powerConfidence: 0.9,
    communityYesVotes: 9,
    communityNoVotes: 1,
    hours: "Mon-Fri",
    tips: ["Ask staff for quieter desk areas with outlets."],
    source: "mock",
  },
  {
    id: "24",
    name: "River City Labs",
    address: "Fortitude Valley QLD",
    venueType: "coworking",
    latitude: -27.4575,
    longitude: 153.0347,
    outletCount: 80,
    outletTypes: ["usb-c", "standard"],
    hasOutlets: true,
    powerConfidence: 0.95,
    communityYesVotes: 12,
    communityNoVotes: 0,
    hours: "Mon-Fri",
    tips: ["Bring a USB-C cable; many desks have USB-C power."],
    source: "mock",
  },
  {
    id: "25",
    name: "The Cove Workspace - South Bank",
    address: "South Brisbane QLD",
    venueType: "coworking",
    latitude: -27.4768,
    longitude: 153.0223,
    outletCount: 45,
    outletTypes: ["standard", "usb-a"],
    hasOutlets: true,
    powerConfidence: 0.9,
    communityYesVotes: 8,
    communityNoVotes: 0,
    hours: "Mon-Fri",
    tips: ["Power is easy to find along perimeter desks."],
    source: "mock",
  },
  {
    id: "26",
    name: "Salt Space Coworking - Newstead",
    address: "Newstead QLD",
    venueType: "coworking",
    latitude: -27.452,
    longitude: 153.041,
    outletCount: 35,
    outletTypes: ["standard", "usb-a"],
    hasOutlets: true,
    powerConfidence: 0.85,
    communityYesVotes: 7,
    communityNoVotes: 1,
    hours: "Mon-Fri",
    tips: ["Best charging spots are near the window benches."],
    source: "mock",
  },
  {
    id: "27",
    name: "Workspace - Maroochydore",
    address: "Maroochydore QLD",
    venueType: "coworking",
    latitude: -26.6565,
    longitude: 153.0902,
    outletCount: 40,
    outletTypes: ["usb-c", "standard"],
    hasOutlets: true,
    powerConfidence: 0.9,
    communityYesVotes: 6,
    communityNoVotes: 0,
    hours: "Mon-Fri",
    tips: ["Desks typically have nearby power."],
    source: "mock",
  },
  {
    id: "28",
    name: "Hive Coworking - Noosa",
    address: "Noosa / Noosaville QLD",
    venueType: "coworking",
    latitude: -26.4007,
    longitude: 153.0436,
    outletCount: 25,
    outletTypes: ["standard"],
    hasOutlets: true,
    powerConfidence: 0.85,
    communityYesVotes: 5,
    communityNoVotes: 0,
    hours: "Mon-Fri",
    tips: ["Ask for a desk near the wall outlets if needed."],
    source: "mock",
  },
  {
    id: "29",
    name: "Caloundra Cowork Hub",
    address: "Caloundra QLD",
    venueType: "coworking",
    latitude: -26.8027,
    longitude: 153.1243,
    outletCount: 18,
    outletTypes: ["standard", "usb-a"],
    hasOutlets: null,
    powerConfidence: 0.75,
    communityYesVotes: 2,
    communityNoVotes: 0,
    hours: "Mon-Fri",
    tips: ["Carry a powerboard for shared tables."],
    source: "mock",
  },
  {
    id: "30",
    name: "COHORT Coworking - Southport",
    address: "Southport QLD",
    venueType: "coworking",
    latitude: -27.9672,
    longitude: 153.4104,
    outletCount: 40,
    outletTypes: ["usb-c", "standard"],
    hasOutlets: true,
    powerConfidence: 0.9,
    communityYesVotes: 8,
    communityNoVotes: 0,
    hours: "Mon-Fri",
    tips: ["Meeting rooms usually have multiple outlets."],
    source: "mock",
  },
  {
    id: "31",
    name: "WOTSO Workspace - Gold Coast",
    address: "Gold Coast QLD",
    venueType: "coworking",
    latitude: -28.006,
    longitude: 153.409,
    outletCount: 35,
    outletTypes: ["standard", "usb-a"],
    hasOutlets: true,
    powerConfidence: 0.85,
    communityYesVotes: 6,
    communityNoVotes: 1,
    hours: "Mon-Fri",
    tips: ["Best charging is near hot desks along the perimeter."],
    source: "mock",
  },
  {
    id: "32",
    name: "Robina Coworking Space",
    address: "Robina QLD",
    venueType: "coworking",
    latitude: -28.0731,
    longitude: 153.3937,
    outletCount: 22,
    outletTypes: ["standard", "usb-a"],
    hasOutlets: null,
    powerConfidence: 0.75,
    communityYesVotes: 3,
    communityNoVotes: 1,
    hours: "Mon-Fri",
    tips: ["Ask staff for a desk close to a power point."],
    source: "mock",
  },
  {
    id: "4",
    name: "QUT Gardens Point Library",
    address: "2 George St, Brisbane City QLD",
    venueType: "library",
    latitude: -27.4771,
    longitude: 153.0284,
    outletCount: 32,
    outletTypes: ["standard", "usb-a"],
    hasOutlets: true,
    powerConfidence: 0.94,
    communityYesVotes: 21,
    communityNoVotes: 1,
    hours: "7:00 AM - 12:00 AM",
    tips: ["Bring an adapter for USB-C"],
    source: "mock",
  },
  {
    id: "5",
    name: "Cairns Esplanade Coffee",
    address: "1 Esplanade, Cairns City QLD",
    venueType: "cafe",
    latitude: -16.9186,
    longitude: 145.7801,
    outletCount: 4,
    outletTypes: ["standard"],
    hasOutlets: null,
    powerConfidence: 0.45,
    communityYesVotes: 3,
    communityNoVotes: 4,
    tips: ["Ask staff for the power strip behind the counter"],
    source: "mock",
  },
  {
    id: "6",
    name: "Townsville Airport",
    address: "Terminal Dr, Garbutt QLD",
    venueType: "airport",
    latitude: -19.2565,
    longitude: 146.7719,
    outletCount: 40,
    outletTypes: ["usb-a", "standard"],
    hasOutlets: true,
    powerConfidence: 0.8,
    communityYesVotes: 9,
    communityNoVotes: 2,
    hours: "4:00 AM - 11:00 PM",
    tips: ["Power near baggage claim after security"],
    source: "mock",
  },
  {
    id: "7",
    name: "Ipswich Central Library",
    address: "40 South St, Ipswich QLD",
    venueType: "library",
    latitude: -27.6143,
    longitude: 152.7602,
    outletCount: 28,
    outletTypes: ["standard"],
    hasOutlets: true,
    powerConfidence: 0.9,
    communityYesVotes: 12,
    communityNoVotes: 0,
    hours: "9:00 AM - 6:00 PM",
    tips: ["Children's area has spare sockets midday"],
    source: "mock",
  },
  {
    id: "8",
    name: "Noosa Civic Food Court",
    address: "28 Eenie Creek Rd, Noosaville QLD",
    venueType: "mall",
    latitude: -26.399,
    longitude: 153.054,
    outletCount: 10,
    outletTypes: ["usb-a", "standard"],
    hasOutlets: null,
    powerConfidence: 0.55,
    communityYesVotes: 2,
    communityNoVotes: 1,
    hours: "10:00 AM - 5:30 PM",
    tips: ["Closest outlets near the supermarket entrance"],
    source: "mock",
  },
];

export function calculateDistance(
  lat1: number,
  lon1: number,
  lat2: number,
  lon2: number
): number {
  const R = 3959;
  const dLat = ((lat2 - lat1) * Math.PI) / 180;
  const dLon = ((lon2 - lon1) * Math.PI) / 180;
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos((lat1 * Math.PI) / 180) *
      Math.cos((lat2 * Math.PI) / 180) *
      Math.sin(dLon / 2) *
      Math.sin(dLon / 2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
  return R * c;
}
